---
title: 'Java身份证处理方法(15转18,出生日期隐藏)'
date: 2022-08-06 18:37:14
tags:
---

<!-- more -->

只有第一代身份证是15位，后面的身份证都是18位数字

15位身份证：地址码+出生日期码(2位年)+顺序码
18位身份证：地址码+出生日期码(4位年)+顺序码+校验码

地址码：当地的行政区划代码，6位
出生日期码：即出生年月日
顺序码：同一地址码的区域内，对同年同月同日生的人进行编号，奇数为男性，偶数为女性
校验码：通过算法计算得出。

校验方法
1.将前17位数字分别乘以不同的系数，这个系数数组如下：7-9-10-5-8-4-2-1-6-3-7-9-10-5-8-4-2
2.将这17位数字和系数相乘的结果相加，加出来的和除以11，看余数是多少
3.余数只有可能在0-1-2-3-4-5-6-7-8-9-10这11个数字之间，分别对应的校验码是1-0-X-9-8-7-6-5-4-3-2
即如果余数为0，身份证校验码就是1，余数为2就是X

然后就上代码

```java
//计算校验码
public char getVerifyCode(String idCard){
    if(idCard == null || idCard.length()<17) {
        return 0;
    }
    char[] ai = idCard.toCharArray();
    int[] wi = {7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2};
    char[] verifyCode = {'1', '0', 'X','9', '8', '7','6', '5', '4', '3'};
    int s = 0;
    int y;
    for(int i=0; i<wi.length; i++) {
        s+=(ai[i]-'0')*wi[i];
    }
    y = s % 11;
    return verifyCode[y];
}

//转换为18位
public String getNewIdCard(String oldCard){
    StringBuilder sb;
    if(oldCard != null && oldCard.length() == 15) {
        sb = new StringBuilder();
        sb.append(oldCard.substring(0, 6)).append("19").append(oldCard.substring(6));
        sb.append(getVerifyCode(sb.toString()));
        return sb.toString();
    }else {
        return "";
    }
}
```

 

 隐藏出生日期，用*代替

```java
public String getBrithdayByxx(String idCard){
    Srting newCard = "";
    if(idCard != null){
        if(idCard.length == 18){
            newCard = idCard.substring(0, 6)+ "********"+idCard.substring(14, 18);
        }else if(){
            newCard = idCard.substring(0, 6)+ "******"+idCard.substring(12, 15);
        }
    }
    return newCard;
}
```

 

 
