---
title: Python3 -u参数详解
categories:
  - Dev
tags:
  - Python
abbrlink: a5bc3b74
date: 2023-04-03 10:22:44
index_img:
---

<!-- more -->
<!-- categories:Dev、Ops、Study、Sth、News、work-->
<!-- tags: 
Python、MySQL、LeetCode、机器学习、Linux、Big Data、Java、BlockChain、Docker、Web 、分布式、
Maven、数据结构、JVM、JavaScript、Crontab、Shell、Ubuntu、VPN、NodeJS、String、VM、Hadoop、
Life、树莓派、Git、Hexo、算法、运维、网络、看法、电影、美学、写作、哲学、文档、绘画、前端、
历史、政治、社会、导购
 -->
`sys.stdout.write()`：python中调用`print`时，事实上调用了`sys.stdout.write(obj+'\n')`

Python 中标准输出`stdout`默认需要缓存后再输出到屏幕，只有遇到换行或积累到一定大小才会输出。

而标准错误`stderr`则直接输出。

```python
import sys

sys.stdout.write("stdout1")
sys.stderr.write("stderr1")
sys.stdout.write("stdout2")
sys.stderr.write("stderr2")
```

如上代码运行结果为：

```
stderr1stderr2stdout1stdout2
```

 -u 参数强制标准输出跟标准错误一样，不通过缓存直接打印至屏幕。一般在处理运行 Python 脚本的日志问题时需要注意到这点。更换成 `python -u`就正常按照语句的顺序来打印了

```python
python temp.py
stderr1stderr2stdout1stdout2
python -u temp.py
stdout1stderr1stdout2stderr2
```


