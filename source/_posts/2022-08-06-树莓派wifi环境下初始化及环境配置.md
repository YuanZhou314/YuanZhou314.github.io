---
title: 树莓派wifi环境下初始化及环境配置
tags:
  - 树莓派
  - Python
categories: Dev
abbrlink: 57cf4104
date: 2022-08-06 18:24:46
---

<!-- more -->

在此放一下我的系统

链接：https://pan.baidu.com/s/192cL6qSsMd-wqxHeDWfIug 
提取码：0lrq 

1.准备一张内存卡，最好是32G class10 16G的话也够用。然后用SDFormatter格式化一下

![](https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806182544.png)

2.用Win32DiskImager读取img包，并选择需要写入的SD卡，然后点击下方Write写入，根据img包的大小和内存卡写入速度不同，等待时间也不一样

![](https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806182559.png)

3.打开内存卡的根目录，创建一个名为ssh的文件，（没有后缀）。如若看不到后缀自行打开文件夹选项-查看显示后缀。然后再创建一个名为wpa_supplicant.conf，注意后缀就是.conf，用文本编辑器打开即可，填入以下内容：

```bash
country=CN 
ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=1
network={  
ssid="WiFi-SSID"   
psk="pwd"   
key_mgmt=WPA-PSK   
priority=1
}
```

ssid和psk自己填入wifi名和密码，key_mgmt是加密方式，按照不同的加密方式填写，一般都是WPA-PSK加密，其他的应该不需要改动。

4.将内存卡插入树莓派，等待1~2分钟。第一次连接wifi时，IP是跟随当前地址往后排的。但这样的的地址是动态的，不方便后期调试，所以应该设置为静态IP。

打开netscan（官网安装，自带中文试用） ，查找当前局域网内的ip范围，如果不清楚就先看看自己电脑上的，根据网关选择一个0~192的范围。根据扫描结果：

我这里已经配置好了静态IP，这个系统也自带的已经写好的主机名，所以第一次连接时还是很好找的。但我们设置静态IP应该将IP固定在不常用的一些地址，比如我常用的是192.168.0.0 ~ 192.168.0.100，我就把110这个不常用的ip给树莓派，一般操作就是这样。

![](https://blog-cnd-1307088890.cos.ap-guangzhou.myqcloud.com/20220806182616.png)

5.想好一个将要分配给树莓派的IP后，根据扫描到的树莓派IP,SSH上去，输入用户名密码，这个系统的用户名是pi 密码 yahboom

然后用自带的nano编辑DHCP配置文件：

```
sudo nano /etc/dhcpcd.conf
```

 

 然后在末尾添加一段代码

```bash
interface wlan0
 
static ip_address=内网静态ip地址/24
static routers=内网网关ip地址
static domain_name_servers=114.114.114.114
# 使用CTRL+O保存修改（字母o），然后回车确认，再CTRL+X退出编辑
# 设置静态IP完成，重启树莓派即可，重新SSH连接时记得更换为刚刚替换的静态IP
```

 

将系统自带的python2.7卸载：

```bash
sudo apt-get autoremove python2.7
```

然后将另外一个3.5版本的python设置为默认（否则无法检测到）

```bash
sudo ln -s /usr/bin/python3.5 /usr/bin/python
```

进入python命令后，退出则输入quit()或按CTRL+D回到树莓派命令下。
